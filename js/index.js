var y=["Mladým: víte, že dokážete rozhodnout volby?","Hnutí ano prostě chce žít v minulosti bez perspektivy.","Boj s korupcí, ne udávání lidí.","Investice do sportu a kultury jsou zárukou zdravé společnosti.","Potřebujeme obnovit rovnováhu přírody!","Byty je třeba stavět, ne danit.","Nejvyšší čas zastavit zadlužování naší země!","udělejme z česka sebevědomého spojence","Místo byrokratického pekla skutečná digitalizace","Staňme se digitálním tygrem!","Veřejné finance průhledně a čistě","Dítě potřebuje náruč jedné pečující osoby!","Politik má sloužit lidem a nutit stát, aby fungoval stejně","Podpořte finančně piráty a starosty","pojďme postavit ekonomiku na nohy","2 % z rozpočtu pro armádu vybojujeme!","kultura si zaslouží 1 % z rozpočtu","na šikaně živnostníků se podílet nebudeme","skutečně digitální stát, na co máme internet?","pojďme zreformovat školství. od základů.","finance řízené podle plánu","vraťme lesům jejich zdraví","1000 korun pro každého seniora z dotací Agrofertu. Ať si pan Babiš platí předvolební dárečky ze svého.","Máme už dost nekonečných korupčních kauz. Po volbách s nimi zatočíme.","Místo jednolitých polí pestrá krajina.","je čas vyrazit pomoci na jižní moravu!"],f=[{url:"https://picsum.photos/800",weight:5},{url:"https://source.unsplash.com/800x800",weight:10},{url:"https://source.unsplash.com/800x800/?communism",weight:3},{url:"https://source.unsplash.com/800x800/?cat",weight:1},{url:"https://source.unsplash.com/800x800/?puppy",weight:1},{url:"https://source.unsplash.com/800x800/?chicken",weight:1},{url:"https://source.unsplash.com/800x800/?angry",weight:3}];var d=e=>e[Math.floor(Math.random()*e.length)];var T=f.flatMap(({url:e,weight:n})=>Array(n).fill(e)),k=new FileReader,s=new Image,b="Test text",m=async()=>{let e=await fetch(d(T));return new Promise(n=>{let t=new Image;t.addEventListener("load",()=>{s=t,n()}),t.crossOrigin="anonymous",t.src=e.url})},u=()=>{b=d(y)},o=document.getElementById("picture"),i=o.getContext("2d"),j=new FontFace("Bebas Neue","url(public/BebasNeue-Bold.ttf)"),w=o.getBoundingClientRect(),x=w.left,z=w.top,p=!1,g,h,c=new Image;c.src="public/janecek.png";var a={x:525,y:20};o.addEventListener("mousedown",e=>{let n=Number(e.clientX-x),t=Number(e.clientY-z);n>a.x&&n<a.x+c.width&&t>a.y&&t<a.y+c.height&&(p=!0),g=n,h=t});o.addEventListener("mouseup",()=>{p=!1});var D=async()=>{await j.load(),document.fonts.add(j)},E=e=>{!e.type.startsWith("image/")||k.readAsDataURL(e)};o.addEventListener("dragover",e=>e.preventDefault());o.addEventListener("drop",e=>{e.preventDefault(),!(!e.dataTransfer||e.dataTransfer.files.length<=0)&&E(e.dataTransfer.files[0])});var r=async()=>{i.fillStyle="black",i.fillRect(0,0,o.width,o.height);let e=o.width/s.width,n=o.height/s.height,t=Math.max(e,n);i.setTransform(t,0,0,t,0,0),i.drawImage(s,0,0),i.setTransform(),i.drawImage(c,a.x,a.y)};o.addEventListener("mousemove",e=>{if(p){let n=Number(e.clientX-x),t=Number(e.clientY-z),B=n-g,R=t-h;a.x+=B,a.y+=R,r(),g=n,h=t}});k.addEventListener("load",e=>{s=new Image,s.addEventListener("load",()=>r()),s.src=e.target.result});var M=document.getElementById("randomize");M.addEventListener("click",async()=>{u(),await m(),r()});var C=document.getElementById("randomize-img");C.addEventListener("click",async()=>{await m(),r()});var N=document.getElementById("randomize-text");N.addEventListener("click",()=>{u(),r()});var I=document.getElementById("customImage");I.addEventListener("change",e=>{e.preventDefault(),!(e.target.files.length<=0)&&E(e.target.files[0])});var A=document.getElementById("customImageBtn");A.addEventListener("click",()=>{I.click()});var l=document.getElementById("customText"),L=async e=>{(e.type==="input"||l.value)&&(b=l.value,r())};l.addEventListener("click",L);l.addEventListener("input",L);var v=document.createElement("a");v.setAttribute("download","PirStanKampan.jpg");var F=document.getElementById("save");F.addEventListener("click",e=>{e.preventDefault(),v.setAttribute("href",o.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream")),v.click()});D();u();m().then(()=>r());
//# sourceMappingURL=index.js.map
